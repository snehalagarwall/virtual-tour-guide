import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};


 export  const chatSession = model.startChat({
    generationConfig,
    history: [
      {
        role: "user",
        parts: [
          {text: "Generate Travel Plan for Location: goa, for 4 Days for 3 to 5 people with a Comfortable budget. Provide a list of hotel options including HotelName, Hotel address, Price, hotel image URL, geo coordinates, rating, and descriptions. Suggest an itinerary with placeName, Place Details, Place Image URL, Geo Coordinates, Ticket Pricing, and Travel Time for each location. Plan each day of the {totalDays} days trip with the best time to visit. Present the information in JSON format."},
        ],
      },
      {
        role: "model",
        parts: [
          {text: "json\n{\n  \"location\": \"{location}\",\n  \"totalDays\": {totalDays},\n  \"traveler\": {traveler},\n  \"budget\": {budget},\n  \"hotels\": [\n    {\n      \"hotelName\": \"Hotel Name 1\",\n      \"hotelAddress\": \"Hotel Address 1\",\n      \"price\": \"$100-$200\",\n      \"hotelImageURL\": \"https://example.com/hotel1.jpg\",\n      \"geoCoordinates\": [40.7128, -74.0060],\n      \"rating\": 4.5,\n      \"description\": \"Description of Hotel 1\"\n    },\n    {\n      \"hotelName\": \"Hotel Name 2\",\n      \"hotelAddress\": \"Hotel Address 2\",\n      \"price\": \"$150-$300\",\n      \"hotelImageURL\": \"https://example.com/hotel2.jpg\",\n      \"geoCoordinates\": [40.7128, -74.0060],\n      \"rating\": 4.0,\n      \"description\": \"Description of Hotel 2\"\n    },\n    {\n      \"hotelName\": \"Hotel Name 3\",\n      \"hotelAddress\": \"Hotel Address 3\",\n      \"price\": \"$200-$400\",\n      \"hotelImageURL\": \"https://example.com/hotel3.jpg\",\n      \"geoCoordinates\": [40.7128, -74.0060],\n      \"rating\": 4.8,\n      \"description\": \"Description of Hotel 3\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": 1,\n      \"activities\": [\n        {\n          \"placeName\": \"Place Name 1\",\n          \"placeDetails\": \"Details of Place 1\",\n          \"placeImageURL\": \"https://example.com/place1.jpg\",\n          \"geoCoordinates\": [40.7128, -74.0060],\n          \"ticketPricing\": \"$20\",\n          \"travelTime\": \"1 hour\",\n          \"bestTime\": \"Morning\"\n        },\n        {\n          \"placeName\": \"Place Name 2\",\n          \"placeDetails\": \"Details of Place 2\",\n          \"placeImageURL\": \"https://example.com/place2.jpg\",\n          \"geoCoordinates\": [40.7128, -74.0060],\n          \"ticketPricing\": \"Free\",\n          \"travelTime\": \"30 minutes\",\n          \"bestTime\": \"Afternoon\"\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"activities\": [\n        {\n          \"placeName\": \"Place Name 3\",\n          \"placeDetails\": \"Details of Place 3\",\n          \"placeImageURL\": \"https://example.com/place3.jpg\",\n          \"geoCoordinates\": [40.7128, -74.0060],\n          \"ticketPricing\": \"$30\",\n          \"travelTime\": \"2 hours\",\n          \"bestTime\": \"Morning\"\n        },\n        {\n          \"placeName\": \"Place Name 4\",\n          \"placeDetails\": \"Details of Place 4\",\n          \"placeImageURL\": \"https://example.com/place4.jpg\",\n          \"geoCoordinates\": [40.7128, -74.0060],\n          \"ticketPricing\": \"$15\",\n          \"travelTime\": \"45 minutes\",\n          \"bestTime\": \"Afternoon\"\n        }\n      ]\n    },\n    {\n      \"day\": 3,\n      \"activities\": [\n        {\n          \"placeName\": \"Place Name 5\",\n          \"placeDetails\": \"Details of Place 5\",\n          \"placeImageURL\": \"https://example.com/place5.jpg\",\n          \"geoCoordinates\": [40.7128, -74.0060],\n          \"ticketPricing\": \"Free\",\n          \"travelTime\": \"1 hour\",\n          \"bestTime\": \"Morning\"\n        },\n        {\n          \"placeName\": \"Place Name 6\",\n          \"placeDetails\": \"Details of Place 6\",\n          \"placeImageURL\": \"https://example.com/place6.jpg\",\n          \"geoCoordinates\": [40.7128, -74.0060],\n          \"ticketPricing\": \"$25\",\n          \"travelTime\": \"30 minutes\",\n          \"bestTime\": \"Afternoon\"\n        }\n      ]\n    }\n  ]\n}\n\n\n*Please note:* This is a sample JSON structure. To create a real travel plan, you will need to replace the placeholders with actual data for the specific location, total days, traveler, and budget. You will also need to use APIs or other data sources to get information on hotels, attractions, and transportation options.\n"},
        ],
      },
      {
        role: "user",
        parts: [
          {text: "Generate Travel Plan for Location: goa, for 4 Days for 3 to 5 people with a Comfortable budget. Provide a list of hotel options including HotelName, Hotel address, Price, hotel image URL, geo coordinates, rating, and descriptions. Suggest an itinerary with placeName, Place Details, Place Image URL, Geo Coordinates, Ticket Pricing, and Travel Time for each location. Plan each day of the {totalDays} days trip with the best time to visit. Present the information in JSON format."},
        ],
      },
      {
        role: "model",
        parts: [
          {text: "json\n{\n  \"location\": \"Goa\",\n  \"totalDays\": 4,\n  \"traveler\": \"3 to 5 people\",\n  \"budget\": \"Comfortable\",\n  \"hotels\": [\n    {\n      \"hotelName\": \"The LaLiT Golf & Spa Resort Goa\",\n      \"hotelAddress\": \"Raj Baga, Canacona, Goa 403702\",\n      \"price\": \"$150-$300\",\n      \"hotelImageURL\": \"https://www.thelaLIT.com/media/images/hotels/goa/gallery/hero-image.jpg\",\n      \"geoCoordinates\": [15.0494, 73.9452],\n      \"rating\": 4.5,\n      \"description\": \"Luxury resort with stunning views, multiple restaurants, a spa, and a golf course.\"\n    },\n    {\n      \"hotelName\": \"The Leela Goa\",\n      \"hotelAddress\": \"Mobor, Cavelossim, Goa 403731\",\n      \"price\": \"$200-$400\",\n      \"hotelImageURL\": \"https://www.theleela.com/media/images/hotels/goa/gallery/hero-image.jpg\",\n      \"geoCoordinates\": [15.1599, 73.9733],\n      \"rating\": 4.8,\n      \"description\": \"Luxurious beachfront resort with multiple pools, restaurants, and a spa.\"\n    },\n    {\n      \"hotelName\": \"The Park Calangute Goa\",\n      \"hotelAddress\": \"Candolim, Calangute, Goa 403516\",\n      \"price\": \"$100-$200\",\n      \"hotelImageURL\": \"https://www.theparkhotels.com/images/hotels/goa/hero-image.jpg\",\n      \"geoCoordinates\": [15.5165, 73.8182],\n      \"rating\": 4.2,\n      \"description\": \"Stylish hotel in Calangute, close to beaches and nightlife.\"\n    },\n    {\n      \"hotelName\": \"The Zuri White Sands Goa Resort & Casino\",\n      \"hotelAddress\": \"Varca Beach, Salcete, Goa 403713\",\n      \"price\": \"$150-$300\",\n      \"hotelImageURL\": \"https://www.thezuri.com/images/hotels/goa/hero-image.jpg\",\n      \"geoCoordinates\": [15.2161, 73.9882],\n      \"rating\": 4.0,\n      \"description\": \"Beachfront resort with a casino, water sports, and a spa.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": 1,\n      \"activities\": [\n        {\n          \"placeName\": \"Panaji City Tour\",\n          \"placeDetails\": \"Explore the charming capital of Goa, visiting the Old Goa churches, the vibrant markets, and the picturesque waterfront.\",\n          \"placeImageURL\": \"https://www.holidify.com/images/cmsuploads/blog/goa-12-things-to-do-in-panaji-goa.jpg\",\n          \"geoCoordinates\": [15.4991, 73.8352],\n          \"ticketPricing\": \"Free\",\n          \"travelTime\": \"Half day\",\n          \"bestTime\": \"Morning\"\n        },\n        {\n          \"placeName\": \"Sunset Cruise on Mandovi River\",\n          \"placeDetails\": \"Enjoy a relaxing cruise on the Mandovi River, taking in the beautiful sunset views and enjoying live music and dinner.\",\n          \"placeImageURL\": \"https://www.goatrips.in/blog/wp-content/uploads/2017/11/mandovi-river-cruise-goa.jpg\",\n          \"geoCoordinates\": [15.4991, 73.8352],\n          \"ticketPricing\": \"$25\",\n          \"travelTime\": \"2 hours\",\n          \"bestTime\": \"Evening\"\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"activities\": [\n        {\n          \"placeName\": \"Baga Beach\",\n          \"placeDetails\": \"Spend the day at one of Goa's most popular beaches, enjoying swimming, sunbathing, water sports, and the lively atmosphere.\",\n          \"placeImageURL\": \"https://media.cntraveller.in/images/stories/2020/01/baga-beach-goa.jpg\",\n          \"geoCoordinates\": [15.5344, 73.8215],\n          \"ticketPricing\": \"Free\",\n          \"travelTime\": \"Full day\",\n          \"bestTime\": \"All day\"\n        },\n        {\n          \"placeName\": \"Tito's Lane\",\n          \"placeDetails\": \"Experience the nightlife of Goa by exploring Tito's Lane, a vibrant street full of bars, clubs, and restaurants.\",\n          \"placeImageURL\": \"https://images.trvl-media.com/media/content/images/600x400/53/9c/0d/539c0da935100d025c2782b70b260701.jpg\",\n          \"geoCoordinates\": [15.5340, 73.8205],\n          \"ticketPricing\": \"Depends on the venue\",\n          \"travelTime\": \"Evening\",\n          \"bestTime\": \"Evening\"\n        }\n      ]\n    },\n    {\n      \"day\": 3,\n      \"activities\": [\n        {\n          \"placeName\": \"Dudhsagar Falls\",\n          \"placeDetails\": \"Hike or take a jeep ride to witness the breathtaking Dudhsagar Falls, one of the tallest waterfalls in India.\",\n          \"placeImageURL\": \"https://www.holidify.com/images/cmsuploads/blog/cover/10-best-places-to-visit-near-goa.jpg\",\n          \"geoCoordinates\": [15.2688, 74.1583],\n          \"ticketPricing\": \"$10-$20\",\n          \"travelTime\": \"Full day\",\n          \"bestTime\": \"Morning\"\n        },\n        {\n          \"placeName\": \"Spice Plantation Tour\",\n          \"placeDetails\": \"Visit a spice plantation and learn about the cultivation and uses of various spices. Enjoy a traditional Goan lunch with local flavors.\",\n          \"placeImageURL\": \"https://www.goatrips.in/blog/wp-content/uploads/2017/11/spice-plantation-goa-things-to-know.jpg\",\n          \"geoCoordinates\": [15.4256, 73.9372],\n          \"ticketPricing\": \"$15-$25\",\n          \"travelTime\": \"Half day\",\n          \"bestTime\": \"Afternoon\"\n        }\n      ]\n    },\n    {\n      \"day\": 4,\n      \"activities\": [\n        {\n          \"placeName\": \"Palolem Beach\",\n          \"placeDetails\": \"Relax and enjoy the serene beauty of Palolem Beach, known for its pristine white sand and calm waters.\",\n          \"placeImageURL\": \"https://media.cntraveller.in/images/stories/2018/10/palolem-beach-goa.jpg\",\n          \"geoCoordinates\": [15.0158, 73.9869],\n          \"ticketPricing\": \"Free\",\n          \"travelTime\": \"Full day\",\n          \"bestTime\": \"All day\"\n        },\n        {\n          \"placeName\": \"Butterfly Beach\",\n          \"placeDetails\": \"Hike to this secluded beach, known for its natural beauty and the possibility of spotting butterflies.\",\n          \"placeImageURL\": \"https://www.goatrips.in/blog/wp-content/uploads/2018/05/butterfly-beach-goa.jpg\",\n          \"geoCoordinates\": [15.0267, 73.9784],\n          \"ticketPricing\": \"Free\",\n          \"travelTime\": \"Half day\",\n          \"bestTime\": \"Afternoon\"\n        }\n      ]\n    }\n  ]\n}\n\n\n*Important Notes:\n\n This is just a sample itinerary and can be customized based on your interests and preferences.\n* Hotel prices are approximate and may vary depending on the season and availability.\n* Ticket prices are subject to change and may vary based on the season and booking platform.\n* Travel time is estimated and may vary depending on traffic conditions.\n* It is recommended to book accommodations and transportation in advance, especially during peak season.\n* You can use Google Maps or other navigation apps to find the exact locations and directions to each place. \n* Don't forget to enjoy Goan cuisine, explore the local markets, and experience the vibrant culture of Goa! \n"},
        ],
      },
    ],
  });